Starting bot
Start polling.
[21.03.24 - 09:53] LOG Init-db:
------
?????: Statistic()
??????? ????????:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

????? ????????:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------

РќР°РґРѕ 
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[21.03.24 - 10:38] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-43' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=UnboundLocalError("local variable 'd' referenced before assignment")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 246, in started
    d = await ch.get_member(user_id=5396184755)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\types\chat.py", line 533, in get_member
    return await self.bot.get_chat_member(self.id, user_id)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 2682, in get_chat_member
    result = await self.request(api.Methods.GET_CHAT_MEMBER, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\utils\exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.ChatNotFound: Chat not found

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 250, in started
    print(d)
UnboundLocalError: local variable 'd' referenced before assignment
Task exception was never retrieved
future: <Task finished name='Task-47' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=UnboundLocalError("local variable 'd' referenced before assignment")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 246, in started
    d = await ch.get_member(user_id=5396184755)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\types\chat.py", line 533, in get_member
    return await self.bot.get_chat_member(self.id, user_id)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 2682, in get_chat_member
    result = await self.request(api.Methods.GET_CHAT_MEMBER, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\utils\exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.ChatNotFound: Chat not found

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 250, in started
    print(d)
UnboundLocalError: local variable 'd' referenced before assignment
Task exception was never retrieved
future: <Task finished name='Task-51' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=UnboundLocalError("local variable 'd' referenced before assignment")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 246, in started
    d = await ch.get_member(user_id=5396184755)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\types\chat.py", line 533, in get_member
    return await self.bot.get_chat_member(self.id, user_id)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 2682, in get_chat_member
    result = await self.request(api.Methods.GET_CHAT_MEMBER, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\utils\exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.ChatNotFound: Chat not found

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 250, in started
    print(d)
UnboundLocalError: local variable 'd' referenced before assignment
Cause exception while getting updates.
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 382, in start_polling
    updates = await self.bot.get_updates(
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 493, in _request
    with timer:
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Task exception was never retrieved
future: <Task finished name='Task-25' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ChatIdIsEmpty('Chat_id is empty')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 247, in started
    d = await ch.get_member(user_id=5396184755)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\types\chat.py", line 533, in get_member
    return await self.bot.get_chat_member(self.id, user_id)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 2682, in get_chat_member
    result = await self.request(api.Methods.GET_CHAT_MEMBER, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\utils\exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.ChatIdIsEmpty: Chat_id is empty
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x0000026A537F17E0>
Task exception was never retrieved
future: <Task finished name='Task-25' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 247, in started
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\types\chat.py", line 533, in get_member
    return await self.bot.get_chat_member(self.id, user_id)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 2682, in get_chat_member
    result = await self.request(api.Methods.GET_CHAT_MEMBER, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\utils\exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.ChatIdIsEmpty: Chat_id is empty

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\bot.py", line 94, in <module>
    asyncio.run(main())
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 47, in run
    _cancel_all_tasks(loop)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 63, in _cancel_all_tasks
    loop.run_until_complete(tasks.gather(*to_cancel, return_exceptions=True))
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 258, in started
    #     # print(member)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 258, in started
    #     # print(member)
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 1179, in _pydevd_bundle.pydevd_cython_win32_310_64.SafeCallWrapper.__call__
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 620, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 929, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 920, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 317, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.do_wait_suspend
  File "D:\PyCharm 2022.3.2\plugins\python\helpers\pydev\pydevd.py", line 1160, in do_wait_suspend
    self._do_wait_suspend(thread, frame, event, arg, suspend_type, from_this_thread)
  File "D:\PyCharm 2022.3.2\plugins\python\helpers\pydev\pydevd.py", line 1175, in _do_wait_suspend
    time.sleep(0.01)
KeyboardInterrupt
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Bot stopped!
Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x0000029565092080>
Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x0000029565091240>
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x000001922B289B10>
Task exception was never retrieved
future: <Task finished name='Task-25' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\bot.py", line 94, in <module>
    asyncio.run(main())
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 47, in run
    _cancel_all_tasks(loop)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 63, in _cancel_all_tasks
    loop.run_until_complete(tasks.gather(*to_cancel, return_exceptions=True))
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 268, in started
    members = await chat.get_member(5396184755)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 268, in started
    members = await chat.get_member(5396184755)
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 1179, in _pydevd_bundle.pydevd_cython_win32_310_64.SafeCallWrapper.__call__
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 620, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 1095, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 1057, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 317, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.do_wait_suspend
  File "D:\PyCharm 2022.3.2\plugins\python\helpers\pydev\pydevd.py", line 1160, in do_wait_suspend
    self._do_wait_suspend(thread, frame, event, arg, suspend_type, from_this_thread)
  File "D:\PyCharm 2022.3.2\plugins\python\helpers\pydev\pydevd.py", line 1175, in _do_wait_suspend
    time.sleep(0.01)
KeyboardInterrupt
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[21.03.24 - 11:38] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-95' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ValueError('heal -- Не подходящий тип Бонуса')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 220, in character_spell
    spell = spell_init(res)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 161, in spell_init
    EffectFactory.create_effect(bonus, source=('Spell', spell_db.get('spell_id', 0)))
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 86, in create_effect
    raise ValueError(f'{effect_type} -- Не подходящий тип Бонуса')
ValueError: heal -- Не подходящий тип Бонуса
Task exception was never retrieved
future: <Task finished name='Task-112' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ValueError('heal -- Не подходящий тип Бонуса')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 220, in character_spell
    spell = spell_init(res)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 161, in spell_init
    EffectFactory.create_effect(bonus, source=('Spell', spell_db.get('spell_id', 0)))
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 86, in create_effect
    raise ValueError(f'{effect_type} -- Не подходящий тип Бонуса')
ValueError: heal -- Не подходящий тип Бонуса
Task exception was never retrieved
future: <Task finished name='Task-128' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ValueError('heal -- Не подходящий тип Бонуса')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 220, in character_spell
    spell = spell_init(res)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 161, in spell_init
    EffectFactory.create_effect(bonus, source=('Spell', spell_db.get('spell_id', 0)))
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 86, in create_effect
    raise ValueError(f'{effect_type} -- Не подходящий тип Бонуса')
ValueError: heal -- Не подходящий тип Бонуса
Task exception was never retrieved
future: <Task finished name='Task-133' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ValueError('heal -- Не подходящий тип Бонуса')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 220, in character_spell
    spell = spell_init(res)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 161, in spell_init
    EffectFactory.create_effect(bonus, source=('Spell', spell_db.get('spell_id', 0)))
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 86, in create_effect
    raise ValueError(f'{effect_type} -- Не подходящий тип Бонуса')
ValueError: heal -- Не подходящий тип Бонуса
Task exception was never retrieved
future: <Task finished name='Task-142' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ValueError('heal -- Не подходящий тип Бонуса')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 220, in character_spell
    spell = spell_init(res)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 161, in spell_init
    EffectFactory.create_effect(bonus, source=('Spell', spell_db.get('spell_id', 0)))
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 86, in create_effect
    raise ValueError(f'{effect_type} -- Не подходящий тип Бонуса')
ValueError: heal -- Не подходящий тип Бонуса
Task exception was never retrieved
future: <Task finished name='Task-150' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ValueError('heal -- Не подходящий тип Бонуса')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 220, in character_spell
    spell = spell_init(res)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 161, in spell_init
    EffectFactory.create_effect(bonus, source=('Spell', spell_db.get('spell_id', 0)))
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 86, in create_effect
    raise ValueError(f'{effect_type} -- Не подходящий тип Бонуса')
ValueError: heal -- Не подходящий тип Бонуса
Polling is stopped.
Bot stopped!
Stop polling...
Task exception was never retrieved
future: <Task finished name='Task-163' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ServerDisconnectedError('Server disconnected')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 257, in character_spell_fix
    spell = await fetch_spell(session)
  File "W:\hobbie\VendettaRpg\tgbot\api\spells.py", line 20, in fetch_spell
    async with session.get(url(f'/spell')) as res:
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 586, in _request
    await resp.start(conn)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client_reqrep.py", line 905, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\streams.py", line 616, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected
Starting bot
Start polling.
[21.03.24 - 11:42] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-56' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ValueError('heal -- Не подходящий тип Бонуса')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 220, in character_spell
    spell = spell_init(res)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 161, in spell_init
    EffectFactory.create_effect(bonus, source=('Spell', spell_db.get('spell_id', 0)))
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 86, in create_effect
    raise ValueError(f'{effect_type} -- Не подходящий тип Бонуса')
ValueError: heal -- Не подходящий тип Бонуса
Task exception was never retrieved
future: <Task finished name='Task-63' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ValueError('heal -- Не подходящий тип Бонуса')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 220, in character_spell
    spell = spell_init(res)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 161, in spell_init
    EffectFactory.create_effect(bonus, source=('Spell', spell_db.get('spell_id', 0)))
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 86, in create_effect
    raise ValueError(f'{effect_type} -- Не подходящий тип Бонуса')
ValueError: heal -- Не подходящий тип Бонуса
Task exception was never retrieved
future: <Task finished name='Task-82' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ValueError('heal -- Не подходящий тип Бонуса')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 220, in character_spell
    spell = spell_init(res)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 161, in spell_init
    EffectFactory.create_effect(bonus, source=('Spell', spell_db.get('spell_id', 0)))
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 86, in create_effect
    raise ValueError(f'{effect_type} -- Не подходящий тип Бонуса')
ValueError: heal -- Не подходящий тип Бонуса
Task exception was never retrieved
future: <Task finished name='Task-105' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ServerDisconnectedError('Server disconnected')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 241, in character_spell_fix
    spell = await fetch_spell(session)
  File "W:\hobbie\VendettaRpg\tgbot\api\spells.py", line 20, in fetch_spell
    async with session.get(url(f'/spell')) as res:
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 586, in _request
    await resp.start(conn)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client_reqrep.py", line 905, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\streams.py", line 616, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected
[21.03.24 - 11:47] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[21.03.24 - 11:48] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[21.03.24 - 11:51] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[21.03.24 - 11:56] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


[21.03.24 - 21:31] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 59
damage_taken_max = 18
block_damage = 0
counter_strike_damage = 14
hits_count = 2
miss_count = 1
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 3
evasion_success_count = 2
block_count = 0
counter_strike_count = 3
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 1
count_one_to_one = 0
count_team_to_team = 0
------


[21.03.24 - 21:31] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 59
damage_taken_max = 18
block_damage = 0
counter_strike_damage = 14
hits_count = 2
miss_count = 1
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 3
evasion_success_count = 2
block_count = 0
counter_strike_count = 3
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 1
count_one_to_one = 0
count_team_to_team = 0
------


Polling is stopped.
Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 89, in battle_start
    await battle_init(cb.message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 73, in battle_init
    await ui.start_battle()
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 89, in start_battle
    await self.battle()
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 92, in battle
    order, entity, who, i, log = self.engine.battle()
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 60, in battle
    entity.skill_cooldown()
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 60, in battle
    entity.skill_cooldown()
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 1589, in _pydevd_bundle.pydevd_cython_win32_310_64.ThreadTracer.__call__
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 929, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 920, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 317, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.do_wait_suspend
  File "D:\PyCharm 2022.3.2\plugins\python\helpers\pydev\pydevd.py", line 1160, in do_wait_suspend
    self._do_wait_suspend(thread, frame, event, arg, suspend_type, from_this_thread)
  File "D:\PyCharm 2022.3.2\plugins\python\helpers\pydev\pydevd.py", line 1175, in _do_wait_suspend
    time.sleep(0.01)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\proactor_events.py", line 162, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] Удаленный хост принудительно разорвал существующее подключение
Bot stopped!
Stop polling...
Starting bot
Start polling.
[22.03.24 - 11:04] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 164
damage_max = 14
healing = 0
healing_max = 0
damage_taken = 115
damage_taken_max = 18
block_damage = 25
counter_strike_damage = 8
hits_count = 23
miss_count = 0
crit_count = 2
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 3
block_count = 0
counter_strike_count = 5
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[22.03.24 - 11:04] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


[22.03.24 - 11:05] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


[22.03.24 - 11:06] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Cause exception while getting updates.
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 586, in _request
    await resp.start(conn)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client_reqrep.py", line 905, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\streams.py", line 616, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 1236] Подключение к сети было разорвано локальной системой

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 382, in start_polling
    updates = await self.bot.get_updates(
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ClientOSError: [WinError 1236] Подключение к сети было разорвано локальной системой
Cause exception while getting updates.
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 586, in _request
    await resp.start(conn)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client_reqrep.py", line 905, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\streams.py", line 616, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 1236] Подключение к сети было разорвано локальной системой

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 382, in start_polling
    updates = await self.bot.get_updates(
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ClientOSError: [WinError 1236] Подключение к сети было разорвано локальной системой
Cause exception while getting updates.
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 586, in _request
    await resp.start(conn)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client_reqrep.py", line 905, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\streams.py", line 616, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 1236] Подключение к сети было разорвано локальной системой

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 382, in start_polling
    updates = await self.bot.get_updates(
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ClientOSError: [WinError 1236] Подключение к сети было разорвано локальной системой
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Cause exception while getting updates.
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 586, in _request
    await resp.start(conn)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client_reqrep.py", line 905, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\streams.py", line 616, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 1236] Подключение к сети было разорвано локальной системой

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 382, in start_polling
    updates = await self.bot.get_updates(
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ClientOSError: [WinError 1236] Подключение к сети было разорвано локальной системой
Cause exception while getting updates.
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\connector.py", line 1155, in _create_direct_connection
    hosts = await asyncio.shield(host_resolved)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\connector.py", line 874, in _resolve_host
    addrs = await self._resolver.resolve(host, port, family=self._family)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\resolver.py", line 33, in resolve
    infos = await self._loop.getaddrinfo(
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 860, in getaddrinfo
    return await self.run_in_executor(
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\client.py", line 562, in _request
    conn = await self._connector.connect(
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\connector.py", line 540, in connect
    proto = await self._create_connection(req, traces, timeout)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\connector.py", line 901, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiohttp\connector.py", line 1169, in _create_direct_connection
    raise ClientConnectorError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 382, in start_polling
    updates = await self.bot.get_updates(
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
[22.03.24 - 21:27] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[22.03.24 - 21:27] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Starting bot
Start polling.
Starting bot
Start polling.
[22.03.24 - 21:30] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Starting bot
Start polling.
[22.03.24 - 21:31] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[22.03.24 - 21:38] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 152, in character_techniques
    f"{technique.technique_info(hero)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\techniques.py", line 116, in technique_info
    f"{''.join([effect.info(entity) for effect in self.bonuses])}"
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\techniques.py", line 116, in <listcomp>
    f"{''.join([effect.info(entity) for effect in self.bonuses])}"
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 329, in info
    effect = f"`• {self.name}: {formatted(self.coast(entity))} ({formatted(self.value)})`\n"
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 325, in coast
    coast_total = (control + coast_base) * (1 + coast_rank) * (1 - control_mod) * (1 + entity.lvl / 50)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 325, in coast
    coast_total = (control + coast_base) * (1 + coast_rank) * (1 - control_mod) * (1 + entity.lvl / 50)
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 1589, in _pydevd_bundle.pydevd_cython_win32_310_64.ThreadTracer.__call__
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 929, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 920, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 317, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.do_wait_suspend
  File "D:\PyCharm 2022.3.2\plugins\python\helpers\pydev\pydevd.py", line 1160, in do_wait_suspend
    self._do_wait_suspend(thread, frame, event, arg, suspend_type, from_this_thread)
  File "D:\PyCharm 2022.3.2\plugins\python\helpers\pydev\pydevd.py", line 1175, in _do_wait_suspend
    time.sleep(0.01)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\proactor_events.py", line 162, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] Удаленный хост принудительно разорвал существующее подключение
Bot stopped!
Stop polling...
Starting bot
Start polling.
[22.03.24 - 21:45] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 152, in character_techniques
    f"{technique.technique_info(hero)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\techniques.py", line 116, in technique_info
    f"{''.join([effect.info(entity) for effect in self.bonuses])}"
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\techniques.py", line 116, in <listcomp>
    f"{''.join([effect.info(entity) for effect in self.bonuses])}"
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 329, in info
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 326, in coast
    f"`———————————————————`\n"
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 326, in coast
    f"`———————————————————`\n"
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 1179, in _pydevd_bundle.pydevd_cython_win32_310_64.SafeCallWrapper.__call__
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 620, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 1095, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 1057, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 317, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.do_wait_suspend
  File "D:\PyCharm 2022.3.2\plugins\python\helpers\pydev\pydevd.py", line 1160, in do_wait_suspend
    self._do_wait_suspend(thread, frame, event, arg, suspend_type, from_this_thread)
  File "D:\PyCharm 2022.3.2\plugins\python\helpers\pydev\pydevd.py", line 1175, in _do_wait_suspend
    time.sleep(0.01)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\proactor_events.py", line 162, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] Удаленный хост принудительно разорвал существующее подключение
Bot stopped!
Stop polling...
Starting bot
Start polling.
Task exception was never retrieved
future: <Task finished name='Task-25' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=CantParseEntities("Can't parse entities: can't find end of the entity starting at byte offset 51")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 227, in entry_point
    hero = await init_hero(db, session, hero_data=hero_data, chat_id=hero_data.get('chat_id', None))
  File "W:\hobbie\VendettaRpg\tgbot\misc\hero.py", line 47, in init_hero
    hero._class.apply(hero)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 450, in apply
    bonus.apply(entity, self)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 176, in apply
    val = getattr(entity, self.attribute) + self.value
AttributeError: 'Class' object has no attribute 'hp_modify'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 237, in entry_point
    await message.answer(f'Ошибка..\n {e}', reply_markup=ReplyKeyboardRemove())
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\types\message.py", line 438, in answer
    return await self.bot.send_message(
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 346, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\utils\exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.CantParseEntities: Can't parse entities: can't find end of the entity starting at byte offset 51
Polling is stopped.
Task exception was never retrieved
future: <Task finished name='Task-42' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=CantParseEntities("Can't parse entities: can't find end of the entity starting at byte offset 51")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 227, in entry_point
    hero = await init_hero(db, session, hero_data=hero_data, chat_id=hero_data.get('chat_id', None))
  File "W:\hobbie\VendettaRpg\tgbot\misc\hero.py", line 47, in init_hero
    hero._class.apply(hero)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 450, in apply
    bonus.apply(entity, self)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 176, in apply
    val = getattr(entity, self.attribute) + self.value
AttributeError: 'Class' object has no attribute 'hp_modify'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 237, in entry_point
    await message.answer(f'Ошибка..\n {e}', reply_markup=ReplyKeyboardRemove())
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\types\message.py", line 438, in answer
    return await self.bot.send_message(
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 346, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\utils\exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.CantParseEntities: Can't parse entities: can't find end of the entity starting at byte offset 51
Bot stopped!
Stop polling...
Starting bot
Start polling.
Task exception was never retrieved
future: <Task finished name='Task-25' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=CantParseEntities("Can't parse entities: can't find end of the entity starting at byte offset 51")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 227, in entry_point
    hero = await init_hero(db, session, hero_data=hero_data, chat_id=hero_data.get('chat_id', None))
  File "W:\hobbie\VendettaRpg\tgbot\misc\hero.py", line 47, in init_hero
    hero._class.apply(hero)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 450, in apply
    bonus.apply(entity, self)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 176, in apply
    val = getattr(entity, self.attribute) + self.value
AttributeError: 'Class' object has no attribute 'hp_modify'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\register.py", line 237, in entry_point
    await message.answer(f'Ошибка..\n {e}', reply_markup=ReplyKeyboardRemove())
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\types\message.py", line 438, in answer
    return await self.bot.send_message(
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\bot.py", line 346, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\bot\api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\utils\exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.CantParseEntities: Can't parse entities: can't find end of the entity starting at byte offset 51
Starting bot
Start polling.
Starting bot
Start polling.
[22.03.24 - 22:22] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\character.py", line 152, in character_techniques
    f"{technique.technique_info(hero)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\techniques.py", line 117, in technique_info
    f"{''.join([effect.info(entity, skill=self) for effect in self.bonuses])}"
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\techniques.py", line 117, in <listcomp>
    f"{''.join([effect.info(entity, skill=self) for effect in self.bonuses])}"
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 326, in info
    coast_total = (control + coast_base) * (1 - control_mod) * (1 + entity.lvl / 50) * coast_rank * damage
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 317, in coast
    damage = skill.damage or 1
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 317, in coast
    damage = skill.damage or 1
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 1179, in _pydevd_bundle.pydevd_cython_win32_310_64.SafeCallWrapper.__call__
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 620, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 929, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 920, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.trace_dispatch
  File "_pydevd_bundle\pydevd_cython_win32_310_64.pyx", line 317, in _pydevd_bundle.pydevd_cython_win32_310_64.PyDBFrame.do_wait_suspend
  File "D:\PyCharm 2022.3.2\plugins\python\helpers\pydev\pydevd.py", line 1160, in do_wait_suspend
    self._do_wait_suspend(thread, frame, event, arg, suspend_type, from_this_thread)
  File "D:\PyCharm 2022.3.2\plugins\python\helpers\pydev\pydevd.py", line 1175, in _do_wait_suspend
    time.sleep(0.01)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\sandj\AppData\Local\Programs\Python\Python310\lib\asyncio\proactor_events.py", line 162, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] Удаленный хост принудительно разорвал существующее подключение
Bot stopped!
Stop polling...
Starting bot
Start polling.
[22.03.24 - 22:27] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 13:08] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


[23.03.24 - 13:08] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 259858
damage_max = 211
healing = 0
healing_max = 0
damage_taken = 214626
damage_taken_max = 449
block_damage = 1025
counter_strike_damage = 31979
hits_count = 4048
miss_count = 1251
crit_count = 2538
money_all = 0
money_wasted = 0
evasion_count = 1258
evasion_success_count = 201
block_count = 0
counter_strike_count = 2707
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 370
kill_hero = 0
death = 30
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 13:19] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 10194
damage_max = 109
healing = 402
healing_max = 23
damage_taken = 5175
damage_taken_max = 638
block_damage = 324
counter_strike_damage = 926
hits_count = 374
miss_count = 17
crit_count = 59
money_all = 0
money_wasted = 0
evasion_count = 18
evasion_success_count = 2
block_count = 0
counter_strike_count = 336
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 51
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 13:37] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 13:38] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 13:40] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 13:49] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


[23.03.24 - 14:00] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-235' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError('send_invite_to_team')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 117, in team_accept_leader
    state.__delattr__('send_invite_to_team')
AttributeError: send_invite_to_team
[23.03.24 - 14:22] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-264' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError('send_invite_to_team')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 117, in team_accept_leader
    state.__delattr__('send_invite_to_team')
AttributeError: send_invite_to_team
Task exception was never retrieved
future: <Task finished name='Task-268' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError('send_invite_to_team')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 117, in team_accept_leader
    state.__delattr__('send_invite_to_team')
AttributeError: send_invite_to_team
Task exception was never retrieved
future: <Task finished name='Task-272' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError('send_invite_to_team')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 117, in team_accept_leader
    state.__delattr__('send_invite_to_team')
AttributeError: send_invite_to_team
[23.03.24 - 14:23] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


[23.03.24 - 14:27] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9503
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228097
damage_taken_max = 222802
block_damage = 0
counter_strike_damage = 97
hits_count = 257
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 45
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 11
count_one_to_one = 0
count_team_to_team = 1
------


[23.03.24 - 14:58] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 15:02] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


Task exception was never retrieved
future: <Task finished name='Task-548' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError('send_invite_to_team')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 117, in team_accept_leader
    state.__delattr__('send_invite_to_team')
AttributeError: send_invite_to_team
Polling is stopped.
Bot stopped!
Stop polling...
Task exception was never retrieved
future: <Task finished name='Task-553' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError('send_invite_to_team')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 117, in team_accept_leader
    await state.update_data(send_invite_to_team=None)
AttributeError: send_invite_to_team
Starting bot
Start polling.
[23.03.24 - 15:05] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 15:05] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


Task exception was never retrieved
future: <Task finished name='Task-256' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError('invite_team_id')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 174, in team_accept_invite
    state.__delattr__('invite_team_id')
AttributeError: invite_team_id
Task exception was never retrieved
future: <Task finished name='Task-259' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError('invite_team_id')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 174, in team_accept_invite
    state.__delattr__('invite_team_id')
AttributeError: invite_team_id
Polling is stopped.
Task exception was never retrieved
future: <Task finished name='Task-262' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError('invite_team_id')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 174, in team_accept_invite
    state.__delattr__('invite_team_id')
AttributeError: invite_team_id
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 15:08] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 15:08] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


Polling is stopped.
Task exception was never retrieved
future: <Task finished name='Task-112' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError('invite_team_id')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 174, in team_accept_invite
    await state.update_data(invite_team_id=None)
AttributeError: invite_team_id
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 15:08] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 15:08] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 15:11] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 15:13] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 15:19] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 15:29] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 15:29] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 15:29] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-88' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=TypeError("'InlineKeyboardMarkup' object is not callable")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\location.py", line 172, in location_team
    return await cb.message.edit_text('Вы можете изменить настройки группы:', reply_markup=team_setting_inline())
TypeError: 'InlineKeyboardMarkup' object is not callable
Task exception was never retrieved
future: <Task finished name='Task-92' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'CallbackQuery' object has no attribute 'text'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 267, in team_settings
    if message.text == 'Распустить':
AttributeError: 'CallbackQuery' object has no attribute 'text'
Task exception was never retrieved
future: <Task finished name='Task-105' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'CallbackQuery' object has no attribute 'text'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 267, in team_settings
    if message.text == 'Распустить':
AttributeError: 'CallbackQuery' object has no attribute 'text'
Task exception was never retrieved
future: <Task finished name='Task-108' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'CallbackQuery' object has no attribute 'text'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 267, in team_settings
    if message.text == 'Распустить':
AttributeError: 'CallbackQuery' object has no attribute 'text'
Polling is stopped.
Task exception was never retrieved
future: <Task finished name='Task-131' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=TypeError("'InlineKeyboardMarkup' object is not callable")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\location.py", line 172, in location_team
    return await cb.message.edit_text('Вы можете изменить настройки группы:', reply_markup=team_setting_inline)
TypeError: 'InlineKeyboardMarkup' object is not callable
Bot stopped!
Starting bot
Start polling.
[23.03.24 - 15:31] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-67' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'CallbackQuery' object has no attribute 'text'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 267, in team_settings
    if message.text == 'Распустить':
AttributeError: 'CallbackQuery' object has no attribute 'text'
Task exception was never retrieved
future: <Task finished name='Task-70' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'CallbackQuery' object has no attribute 'text'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 267, in team_settings
    if message.text == 'Распустить':
AttributeError: 'CallbackQuery' object has no attribute 'text'
Task exception was never retrieved
future: <Task finished name='Task-100' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'CallbackQuery' object has no attribute 'text'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 267, in team_settings
    if message.text == 'Распустить':
AttributeError: 'CallbackQuery' object has no attribute 'text'
Polling is stopped.
Bot stopped!
Stop polling...
Task exception was never retrieved
future: <Task finished name='Task-103' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'CallbackQuery' object has no attribute 'text'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 267, in team_settings
    if cb.data == 'Распустить':
AttributeError: 'CallbackQuery' object has no attribute 'text'
Starting bot
Start polling.
[23.03.24 - 15:34] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 15:41] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 15:41] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-116' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'asyncpg.Record' object has no attribute 'team_id'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 277, in team_settings
    user = await db.get_user(h.get('hero_id', 0))
AttributeError: 'asyncpg.Record' object has no attribute 'team_id'
Polling is stopped.
Bot stopped!
Stop polling...
Task exception was never retrieved
future: <Task finished name='Task-131' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'asyncpg.Record' object has no attribute 'team_id'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 277, in team_settings
    user = await db.get_user(h.get('hero_id', 0))
AttributeError: 'asyncpg.Record' object has no attribute 'team_id'
Starting bot
Start polling.
[23.03.24 - 15:43] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 15:43] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


Task exception was never retrieved
future: <Task finished name='Task-77' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'asyncpg.Record' object has no attribute 'team_id'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 276, in team_settings
    h.team_id = 0
AttributeError: 'asyncpg.Record' object has no attribute 'team_id'
Polling is stopped.
Task exception was never retrieved
future: <Task finished name='Task-169' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'asyncpg.Record' object has no attribute 'team_id'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\team.py", line 276, in team_settings
    user = await db.get_user(h.get('hero_id', 0))
AttributeError: 'asyncpg.Record' object has no attribute 'team_id'
Bot stopped!
Starting bot
Start polling.
[23.03.24 - 16:13] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 16:14] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:15] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 16:15] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 16:16] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 16:16] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 16:18] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:19] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


Polling is stopped.
Starting bot
Start polling.
[23.03.24 - 16:22] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 16:22] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:22] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:24] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:24] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:25] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:25] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 16:25] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 16:26] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:26] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 16:26] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:26] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:26] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 16:26] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 16:26] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:26] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


Task exception was never retrieved
future: <Task finished name='Task-229' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'NoneType' object has no attribute 'type_damage'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 87, in select_target
    await ui.process_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 441, in process_select_target
    await self.process_battle_action(hero, hero.target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 356, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 108, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 234, in entity_attack
    action.activate(attacker, defender)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 114, in activate
    self.apply(entity, target)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 134, in apply
    is_success = bonus.apply(entity, skill=self)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 339, in apply
    shield = self.get_value(hero)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 359, in get_value
    element_mod = hero.__getattribute__(skill.type_damage) or 0
AttributeError: 'NoneType' object has no attribute 'type_damage'
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 16:37] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:37] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:37] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 16:37] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 16:56] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:56] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 16:56] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:56] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


Task exception was never retrieved
future: <Task finished name='Task-143' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'NoneType' object has no attribute 'type_damage'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 82, in select_spell_confirm
    await ui.process_select_spell_confirm(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 315, in process_select_spell_confirm
    return await self.handler_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 398, in handler_select_target
    return await self.process_battle_action(hero, hero)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 232, in entity_attack
    action.activate(attacker, attacker)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 114, in activate
    self.apply(entity, target)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 134, in apply
    is_success = bonus.apply(entity, skill=self)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 339, in apply
    shield = self.get_value(hero)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 359, in get_value
    element_mod = hero.__getattribute__(skill.type_damage) or 0
AttributeError: 'NoneType' object has no attribute 'type_damage'
Task exception was never retrieved
future: <Task finished name='Task-154' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'NoneType' object has no attribute 'type_damage'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 82, in select_spell_confirm
    await ui.process_select_spell_confirm(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 315, in process_select_spell_confirm
    return await self.handler_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 398, in handler_select_target
    return await self.process_battle_action(hero, hero)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 232, in entity_attack
    action.activate(attacker, attacker)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 114, in activate
    self.apply(entity, target)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 134, in apply
    is_success = bonus.apply(entity, skill=self)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 339, in apply
    shield = self.get_value(hero)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 359, in get_value
    element_mod = hero.__getattribute__(skill.type_damage) or 0
AttributeError: 'NoneType' object has no attribute 'type_damage'
Polling is stopped.
Bot stopped!
Stop polling...
Task exception was never retrieved
future: <Task finished name='Task-158' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'NoneType' object has no attribute 'type_damage'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 82, in select_spell_confirm
    await ui.process_select_spell_confirm(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 315, in process_select_spell_confirm
    return await self.handler_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 398, in handler_select_target
    return await self.process_battle_action(hero, hero)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 232, in entity_attack
    action.activate(attacker, attacker)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 114, in activate
    self.apply(entity, target)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 134, in apply
    is_success = bonus.apply(entity, skill=self)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 339, in apply
    shield = self.get_value(hero)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 359, in get_value
    element_mod = hero.__getattribute__(skill.type_damage) or 0
AttributeError: 'NoneType' object has no attribute 'type_damage'
Starting bot
Start polling.
[23.03.24 - 16:59] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


[23.03.24 - 16:59] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:59] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 16:59] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 19
damage_max = 5
healing = 0
healing_max = 0
damage_taken = 265
damage_taken_max = 47
block_damage = 0
counter_strike_damage = 12
hits_count = 5
miss_count = 1
crit_count = 1
money_all = 0
money_wasted = 0
evasion_count = 1
evasion_success_count = 0
block_count = 0
counter_strike_count = 4
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 2
count_one_to_one = 0
count_team_to_team = 0
------


Polling is stopped.
Bot stopped!
Stop polling...
Task exception was never retrieved
future: <Task finished name='Task-143' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=TypeError('Spell.check() takes 2 positional arguments but 3 were given')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 82, in select_spell_confirm
    await ui.process_select_spell_confirm(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 315, in process_select_spell_confirm
    return await self.handler_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 398, in handler_select_target
    return await self.process_battle_action(hero, hero)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 232, in entity_attack
    action.activate(attacker, attacker)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 112, in activate
    if self.check(entity):
TypeError: Spell.check() takes 2 positional arguments but 3 were given
Starting bot
Start polling.
[23.03.24 - 17:03] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 17:03] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-98' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'NoneType' object has no attribute 'type_damage'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 82, in select_spell_confirm
    await ui.process_select_spell_confirm(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 315, in process_select_spell_confirm
    return await self.handler_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 398, in handler_select_target
    return await self.process_battle_action(hero, hero)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 232, in entity_attack
    action.activate(attacker, attacker)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 114, in activate
    self.apply(entity, target)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 134, in apply
    is_success = bonus.apply(entity, skill=self)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 339, in apply
    shield = self.get_value(hero)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 359, in get_value
    element_mod = hero.__getattribute__(skill.type_damage) or 0
AttributeError: 'NoneType' object has no attribute 'type_damage'
Polling is stopped.
Task exception was never retrieved
future: <Task finished name='Task-102' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'NoneType' object has no attribute 'type_damage'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 82, in select_spell_confirm
    await ui.process_select_spell_confirm(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 315, in process_select_spell_confirm
    return await self.handler_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 398, in handler_select_target
    return await self.process_battle_action(hero, hero)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 232, in entity_attack
    action.activate(attacker, attacker)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 114, in activate
    self.apply(entity, target)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 134, in apply
    is_success = bonus.apply(entity, skill=self)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 339, in apply
    shield = self.get_value(hero)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 359, in get_value
    element_mod = hero.__getattribute__(skill.type_damage) or 0
AttributeError: 'NoneType' object has no attribute 'type_damage'
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 17:05] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 17:05] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 17:07] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 17:07] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-97' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'NoneType' object has no attribute 'shield'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 82, in select_spell_confirm
    await ui.process_select_spell_confirm(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 315, in process_select_spell_confirm
    return await self.handler_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 398, in handler_select_target
    return await self.process_battle_action(hero, hero)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 232, in entity_attack
    action.activate(attacker, attacker)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 115, in activate
    self.apply(entity, target)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 135, in apply
    is_success = bonus.apply(entity, skill=self)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 346, in apply
    if shield >= target.shield:
AttributeError: 'NoneType' object has no attribute 'shield'
Task exception was never retrieved
future: <Task finished name='Task-100' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'NoneType' object has no attribute 'shield'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 82, in select_spell_confirm
    await ui.process_select_spell_confirm(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 315, in process_select_spell_confirm
    return await self.handler_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 398, in handler_select_target
    return await self.process_battle_action(hero, hero)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 232, in entity_attack
    action.activate(attacker, attacker)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 115, in activate
    self.apply(entity, target)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 135, in apply
    is_success = bonus.apply(entity, skill=self)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 346, in apply
    if shield >= target.shield:
AttributeError: 'NoneType' object has no attribute 'shield'
Polling is stopped.
Bot stopped!
Stop polling...
Task exception was never retrieved
future: <Task finished name='Task-103' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'NoneType' object has no attribute 'shield'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 82, in select_spell_confirm
    await ui.process_select_spell_confirm(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 315, in process_select_spell_confirm
    return await self.handler_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 398, in handler_select_target
    return await self.process_battle_action(hero, hero)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 232, in entity_attack
    action.activate(attacker, attacker)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 115, in activate
    self.apply(entity, target)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 135, in apply
    is_success = bonus.apply(entity, skill=self)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\effect.py", line 346, in apply
    else:
AttributeError: 'NoneType' object has no attribute 'shield'
Starting bot
Start polling.
[23.03.24 - 17:09] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 17:09] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-116' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'NoneType' object has no attribute 'effects'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 82, in select_spell_confirm
    await ui.process_select_spell_confirm(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 315, in process_select_spell_confirm
    return await self.handler_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 398, in handler_select_target
    return await self.process_battle_action(hero, hero)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 232, in entity_attack
    action.activate(attacker, attacker)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 115, in activate
    self.apply(entity, target)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 138, in apply
    self.effects.append(bonus)
AttributeError: 'NoneType' object has no attribute 'effects'
Polling is stopped.
Task exception was never retrieved
future: <Task finished name='Task-119' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'NoneType' object has no attribute 'effects'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 82, in select_spell_confirm
    await ui.process_select_spell_confirm(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 315, in process_select_spell_confirm
    return await self.handler_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 398, in handler_select_target
    return await self.process_battle_action(hero, hero)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 232, in entity_attack
    action.activate(attacker, attacker)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 115, in activate
    self.apply(entity, target)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 138, in apply
    self.effects.append(bonus)
AttributeError: 'NoneType' object has no attribute 'effects'
Bot stopped!
Starting bot
Start polling.
[23.03.24 - 17:10] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 17:10] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Task exception was never retrieved
future: <Task finished name='Task-108' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=AttributeError("'NoneType' object has no attribute 'effects'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\dispatcher.py", line 257, in process_update
    return await self.message_handlers.notify(update.message)
  File "W:\hobbie\VendettaRpg\venv\lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\handlers.py", line 82, in select_spell_confirm
    await ui.process_select_spell_confirm(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 315, in process_select_spell_confirm
    return await self.handler_select_target(message, state)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 398, in handler_select_target
    return await self.process_battle_action(hero, hero)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 232, in entity_attack
    action.activate(attacker, attacker)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 115, in activate
    self.apply(entity, target)
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\spells.py", line 138, in apply
    self.effects.append(bonus)
AttributeError: 'NoneType' object has no attribute 'effects'
Starting bot
Start polling.
[23.03.24 - 17:12] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 17:12] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-97' coro=<BattleInterface.handler_npc_turn() done, defined at W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py:152> exception=AttributeError("'NoneType' object has no attribute 'hp'")>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 153, in handler_npc_turn
    await self.process_battle_action(npc, npc.target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\interface.py", line 358, in process_battle_action
    action_result = self.engine.battle_action(hero, target)
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 109, in battle_action
    action_return['log'] += f"{self.entity_attack(attacker, target)}\n"
  File "W:\hobbie\VendettaRpg\tgbot\handlers\battle\hook.py", line 212, in entity_attack
    hp_def = defender.hp
AttributeError: 'NoneType' object has no attribute 'hp'
[23.03.24 - 17:12] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Polling is stopped.
Bot stopped!
Stop polling...
Starting bot
Start polling.
[23.03.24 - 17:13] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


[23.03.24 - 17:13] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 9627
damage_max = 418
healing = 36
healing_max = 17
damage_taken = 228403
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 262
miss_count = 26
crit_count = 34
money_all = 0
money_wasted = 0
evasion_count = 26
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 62
kill_hero = 2
death = 12
count_one_to_one = 1
count_team_to_team = 1
------


Starting bot
Start polling.
[04.04.24 - 11:09] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 36238
damage_max = 1263
healing = 36
healing_max = 17
damage_taken = 264063
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 314
miss_count = 27
crit_count = 36
money_all = 0
money_wasted = 0
evasion_count = 27
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 84
kill_hero = 2
death = 15
count_one_to_one = 2
count_team_to_team = 1
------


Polling is stopped.
Stop polling...
Starting bot
Bot stopped!
Starting bot
Start polling.
[04.04.24 - 11:10] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 36238
damage_max = 1263
healing = 36
healing_max = 17
damage_taken = 264063
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 314
miss_count = 27
crit_count = 36
money_all = 0
money_wasted = 0
evasion_count = 27
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 84
kill_hero = 2
death = 15
count_one_to_one = 2
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-60' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ZeroDivisionError('float division by zero')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 170, in init_enemy
    enemy.update_stats_all()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 186, in update_stats_all
    self.update_control()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 159, in update_control
    self.control_mana = (2 * self.intelligence * self.soul) / (self.intelligence + self.soul)
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: float division by zero
Task exception was never retrieved
future: <Task finished name='Task-70' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ZeroDivisionError('float division by zero')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 170, in init_enemy
    enemy.update_stats_all()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 186, in update_stats_all
    self.update_control()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 159, in update_control
    self.control_mana = (2 * self.intelligence * self.soul) / (self.intelligence + self.soul)
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: float division by zero
Task exception was never retrieved
future: <Task finished name='Task-91' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ZeroDivisionError('float division by zero')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 170, in init_enemy
    enemy.update_stats_all()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 186, in update_stats_all
    self.update_control()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 159, in update_control
    self.control_mana = (2 * self.intelligence * self.soul) / (self.intelligence + self.soul)
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: float division by zero
Task exception was never retrieved
future: <Task finished name='Task-101' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ZeroDivisionError('float division by zero')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 170, in init_enemy
    enemy.update_stats_all()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 186, in update_stats_all
    self.update_control()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 159, in update_control
    self.control_mana = (2 * self.intelligence * self.soul) / (self.intelligence + self.soul)
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: float division by zero
Task exception was never retrieved
future: <Task finished name='Task-111' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ZeroDivisionError('float division by zero')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 170, in init_enemy
    enemy.update_stats_all()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 186, in update_stats_all
    self.update_control()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 159, in update_control
    self.control_mana = (2 * self.intelligence * self.soul) / (self.intelligence + self.soul)
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: float division by zero
Task exception was never retrieved
future: <Task finished name='Task-142' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ZeroDivisionError('float division by zero')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 170, in init_enemy
    enemy.update_stats_all()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 186, in update_stats_all
    self.update_control()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 159, in update_control
    self.control_mana = (2 * self.intelligence * self.soul) / (self.intelligence + self.soul)
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: float division by zero
Task exception was never retrieved
future: <Task finished name='Task-152' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ZeroDivisionError('float division by zero')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 170, in init_enemy
    enemy.update_stats_all()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 186, in update_stats_all
    self.update_control()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 159, in update_control
    self.control_mana = (2 * self.intelligence * self.soul) / (self.intelligence + self.soul)
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: float division by zero
Task exception was never retrieved
future: <Task finished name='Task-162' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ZeroDivisionError('float division by zero')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 170, in init_enemy
    enemy.update_stats_all()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 186, in update_stats_all
    self.update_control()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 159, in update_control
    self.control_mana = (2 * self.intelligence * self.soul) / (self.intelligence + self.soul)
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: float division by zero
[04.04.24 - 11:12] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 36238
damage_max = 1263
healing = 36
healing_max = 17
damage_taken = 264063
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 314
miss_count = 27
crit_count = 36
money_all = 0
money_wasted = 0
evasion_count = 27
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 84
kill_hero = 2
death = 15
count_one_to_one = 2
count_team_to_team = 1
------


Task exception was never retrieved
future: <Task finished name='Task-299' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ZeroDivisionError('float division by zero')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 170, in init_enemy
    enemy.update_stats_all()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 186, in update_stats_all
    self.update_control()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 159, in update_control
    self.control_mana = (2 * self.intelligence * self.soul) / (self.intelligence + self.soul)
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: float division by zero
Task exception was never retrieved
future: <Task finished name='Task-310' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ZeroDivisionError('float division by zero')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 170, in init_enemy
    enemy.update_stats_all()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 186, in update_stats_all
    self.update_control()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 159, in update_control
    self.control_mana = (2 * self.intelligence * self.soul) / (self.intelligence + self.soul)
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: float division by zero
Task exception was never retrieved
future: <Task finished name='Task-321' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ServerDisconnectedError('Server disconnected')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 165, in init_enemy
    race = await race_init(session, enemy_db.get('race'))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\race.py", line 33, in race_init
    bonuses = await fetch_race_bonuses(session, race_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\api\race.py", line 21, in fetch_race_bonuses
    async with session.get(url(f'/race/{race_id}/effect')) as res:
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiohttp\client.py", line 1167, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiohttp\client.py", line 586, in _request
    await resp.start(conn)
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 905, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiohttp\streams.py", line 616, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected
Task exception was never retrieved
future: <Task finished name='Task-335' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ServerDisconnectedError('Server disconnected')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 165, in init_enemy
    race = await race_init(session, enemy_db.get('race'))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\race.py", line 33, in race_init
    bonuses = await fetch_race_bonuses(session, race_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\api\race.py", line 21, in fetch_race_bonuses
    async with session.get(url(f'/race/{race_id}/effect')) as res:
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiohttp\client.py", line 1167, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiohttp\client.py", line 586, in _request
    await resp.start(conn)
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 905, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiohttp\streams.py", line 616, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected
Task exception was never retrieved
future: <Task finished name='Task-346' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ZeroDivisionError('float division by zero')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 170, in init_enemy
    enemy.update_stats_all()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 186, in update_stats_all
    self.update_control()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 159, in update_control
    self.control_mana = (2 * self.intelligence * self.soul) / (self.intelligence + self.soul)
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: float division by zero
Task exception was never retrieved
future: <Task finished name='Task-358' coro=<Dispatcher._process_polling_updates() done, defined at W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:410> exception=ZeroDivisionError('float division by zero')>
Traceback (most recent call last):
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 418, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 236, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 284, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\handlers\tower.py", line 130, in select_enemy
    enemy = await init_enemy(db, int(id), session)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\enemy.py", line 170, in init_enemy
    enemy.update_stats_all()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 186, in update_stats_all
    self.update_control()
  File "W:\hobbie\VendettaRpg\tgbot\models\entity\entity.py", line 159, in update_control
    self.control_mana = (2 * self.intelligence * self.soul) / (self.intelligence + self.soul)
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: float division by zero
Starting bot
Start polling.
[04.04.24 - 11:18] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 36580
damage_max = 1263
healing = 36
healing_max = 17
damage_taken = 264759
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 316
miss_count = 27
crit_count = 36
money_all = 0
money_wasted = 0
evasion_count = 27
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 84
kill_hero = 2
death = 15
count_one_to_one = 2
count_team_to_team = 1
------


[04.04.24 - 11:18] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 36580
damage_max = 1263
healing = 36
healing_max = 17
damage_taken = 264759
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 316
miss_count = 27
crit_count = 36
money_all = 0
money_wasted = 0
evasion_count = 27
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 84
kill_hero = 2
death = 15
count_one_to_one = 2
count_team_to_team = 1
------


[04.04.24 - 11:18] LOG Init-db:
------
Класс: Statistic()
Прошлые свойства:
id = 0
hero_id = 0
damage = 0
damage_max = 0
healing = 0
healing_max = 0
damage_taken = 0
damage_taken_max = 0
block_damage = 0
counter_strike_damage = 0
hits_count = 0
miss_count = 0
crit_count = 0
money_all = 0
money_wasted = 0
evasion_count = 0
evasion_success_count = 0
block_count = 0
counter_strike_count = 0
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 0
kill_hero = 0
death = 0
count_one_to_one = 0
count_team_to_team = 0

Новые свойства:
id = 0
hero_id = 0
damage = 36760
damage_max = 1263
healing = 36
healing_max = 17
damage_taken = 264765
damage_taken_max = 222802
block_damage = 14
counter_strike_damage = 120
hits_count = 317
miss_count = 27
crit_count = 36
money_all = 0
money_wasted = 0
evasion_count = 27
evasion_success_count = 5
block_count = 0
counter_strike_count = 47
pass_count = 0
escape_count = 0
win_one_to_one = 0
win_team_to_team = 0
lose_one_to_one = 0
lose_team_to_team = 0
kill_enemy = 85
kill_hero = 2
death = 15
count_one_to_one = 2
count_team_to_team = 1
------


